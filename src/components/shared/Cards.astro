---
import ImageEditor from "@/assets/images/ImageEditor.png";
import type { ImageMetadata } from "astro";
import { Picture } from "astro:assets";

interface Props {
  title?: string;
  description?: string;
  tools?:
    | {
        title: string;
        description: string;
        image: ImageMetadata;
      }[]
    | undefined;
}

const defaultTools = [
  {
    title: "Tool 1",
    description:
      "Description for Tool 1 Description for Tool 1 Description for Tool 1 Description for Tool 1",
    image: ImageEditor,
  },
  {
    title: "Tool 2",
    description:
      "Description for Tool 2 Description for Tool 2 Description for Tool 2 Description for Tool 2 Description for Tool 2",
    image: ImageEditor,
  },
  {
    title: "Tool 3",
    description:
      "Description for Tool 3 Description for Tool 3 Description for Tool 3",
    image: ImageEditor,
  },
];

const { title, description, tools = defaultTools } = Astro.props;
---

<section class="select-none mb-4">
  {
    title || description ? (
      <div class="mb-4">
        {title && <h2 class="text-2xl font-semibold mb-2">{title}</h2>}
        {description && <p class="mb-6">{description}</p>}
      </div>
    ) : null
  }

  <div
    class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 pb-4 max-w-5xl"
  >
    {
      tools.map((tool) => (
        <a
          href="#"
          class="flex flex-col cursor-pointer hover:opacity-80 transition-opacity"
          title={tool.title}
        >
          <Picture
            src={tool.image}
            alt={tool.title}
            class="w-full rounded-lg mb-3 object-cover"
          />
          <h3 class="text-md font-light">{tool.title}</h3>
          <p class="text-sm font-extralight text-balance">
            {tool.description.length > 80
              ? tool.description.slice(0, 80) + "..."
              : tool.description}
          </p>
        </a>
      ))
    }
  </div>
</section>
